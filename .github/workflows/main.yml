name: SSHX Remote Session

on:
  workflow_dispatch:  # Manual trigger only

jobs:
  sshx-session:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 hours = 360 minutes

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Install sshx
        run: curl -sSf https://sshx.io/get | sh -s -- --yes

      - name: Start sshx session
        run: |
          echo "=========================================="
          echo "SSHX SESSION STARTING..."
          echo "Look for the sshx.io link below!"
          echo "=========================================="
          sshx

      - name: Keep alive fallback
        if: always()
        run: sleep 21600  # 6 hours in seconds
